{"version":3,"sources":["pages/message/message.module.scss","pages/message/index.jsx"],"names":["module","exports","Message","id","useParams","useState","result","setresult","useEffect","Axios","get","then","response","url","data","type","window","location","message","test","catch","error","console","log","className","Styles","container","timer","interval","fromNow","expiry"],"mappings":"0FACAA,EAAOC,QAAU,CAAC,UAAY,2BAA2B,QAAU,yBAAyB,MAAQ,yB,4JCYrF,SAASC,IAAW,IAC3BC,EAAOC,sBAAPD,GAD0B,EAEJE,mBAAS,IAFL,mBAEzBC,EAFyB,KAEjBC,EAFiB,KAoBhC,OAJAC,qBAAU,WAZRC,IAAMC,IAAN,WAAcP,IACXQ,MAAK,SAAUC,GAZtB,IAAmBC,EAcgB,SAAvBD,EAASE,KAAKC,KAChBC,OAAOC,UAfEJ,EAemBD,EAASE,KAAKI,QAd7C,sBAAsBC,KAAKN,KAC9BA,EAAM,UAAYA,GAEbA,GAYMN,EAAUK,EAASE,SAE3BM,OAAM,SAAUC,GAEfC,QAAQC,IAAIF,QAKf,IAGD,+BAAKG,UAAWC,IAAOC,WACrB,+BAAKF,UAAWC,IAAOP,SACrB,6BAAGM,UAAU,IAAIlB,EAAOY,UAE1B,+BAAKM,UAAWC,IAAOE,OAAvB,8BAEE,oCACE,wBAAC,IAAD,CAAQC,SAAU,IAAMC,SAAO,GAC5BvB,EAAOwB","file":"static/js/7.5538ebf3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"message_container__zCDX9\",\"message\":\"message_message__2Itux\",\"timer\":\"message_timer__3zM_C\"};","import Axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Moment from \"react-moment\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Styles from \"./message.module.scss\";\r\n\r\nfunction formatUrl(url) {\r\n  if (!/^(?:f|ht)tps?\\:\\/\\//.test(url)) {\r\n    url = \"http://\" + url;\r\n  }\r\n  return url;\r\n}\r\n\r\nexport default function Message() {\r\n  let { id } = useParams();\r\n  const [result, setresult] = useState({});\r\n  const apiCall = () => {\r\n    Axios.get(`/${id}`)\r\n      .then(function (response) {\r\n        // handle success\r\n        if (response.data.type === \"link\") {\r\n          window.location = formatUrl(response.data.message);\r\n        } else setresult(response.data);\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      });\r\n  };\r\n  useEffect(() => {\r\n    apiCall();\r\n  }, []);\r\n\r\n  return (\r\n    <div className={Styles.container}>\r\n      <div className={Styles.message}>\r\n        <p className=\"\">{result.message}</p>\r\n      </div>\r\n      <div className={Styles.timer}>\r\n        Message will disappear &nbsp;\r\n        <span>\r\n          <Moment interval={1000} fromNow>\r\n            {result.expiry}\r\n          </Moment>\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}