{"version":3,"sources":["component/select/select.module.scss","pages/home/home.module.scss","component/select/icon.jsx","component/select/index.jsx","pages/home/index.jsx"],"names":["module","exports","Icon","xmlns","width","height","viewBox","fill","stroke","stroke-width","stroke-linecap","stroke-linejoin","class","points","Select","options","props","className","Styles","container","select","map","val","value","selected","label","OPTIONS","TYPES","TIMER","Home","useState","result","setresult","apistatus","setapistatus","error","seterror","timer","type","data","setdata","apiCall","Axios","get","then","response","reverse","catch","console","log","useEffect","handleChange","target","name","heading","onChange","from","onSubmit","event","preventDefault","message","post","toast","placeholder","button","status","style","backgroundColor","color","buttonProps","table","key","id","to","window","location","href","expiry","onClick","shareData","title","text","url","navigator","share","err","handleShare"],"mappings":"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","file":"static/js/5.6ca4c292.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"select_container__2rS0_\",\"select\":\"select_select__2fRa9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"home_container__3vpxv\",\"heading\":\"home_heading__2Laq5\",\"timer\":\"home_timer__1shr4\",\"from\":\"home_from__1iJOB\",\"message\":\"home_message__2ZiBo\",\"button\":\"home_button__1poLS\",\"error\":\"home_error__e3Ugh\",\"table\":\"home_table__2bqy3\"};","import React from \"react\";\r\n\r\nexport default function Icon() {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width=\"24\"\r\n      height=\"24\"\r\n      viewBox=\"0 0 24 24\"\r\n      fill=\"none\"\r\n      stroke=\"currentColor\"\r\n      stroke-width=\"2\"\r\n      stroke-linecap=\"round\"\r\n      stroke-linejoin=\"round\"\r\n      class=\"feather feather-chevron-down\"\r\n    >\r\n      <polyline points=\"6 9 12 15 18 9\"></polyline>\r\n    </svg>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Icon from \"./icon\";\r\nimport Styles from \"./select.module.scss\";\r\n\r\nexport default function Select({ options = [], ...props }) {\r\n  return (\r\n    <div className={Styles.container}>\r\n      <select className={Styles.select} {...props}>\r\n        {options.map((val) => (\r\n          <option value={val.value} selected=\"\">\r\n            {val.label}\r\n          </option>\r\n        ))}\r\n      </select>\r\n      <i>\r\n        <Icon />\r\n      </i>\r\n    </div>\r\n  );\r\n}\r\n","import Axios from \"axios\";\r\nimport Select from \"component/select\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport { toast } from \"react-toastify\";\r\nimport Styles from \"./home.module.scss\";\r\nimport Moment from \"react-moment\";\r\n\r\nconst OPTIONS = {\r\n  TYPES: [\r\n    { value: \"message\", label: \"message\" },\r\n    { value: \"link\", label: \"link\" },\r\n  ],\r\n  TIMER: [\r\n    { value: 60, label: \"1 minute\" },\r\n    { value: 600, label: \"10 minutes\" },\r\n    { value: 3600, label: \"1 hour\" },\r\n    { value: 86400, label: \"1 day\" },\r\n    { value: 604800, label: \"1 week\" },\r\n  ],\r\n};\r\n\r\nfunction buttonProps(status) {\r\n  switch (status) {\r\n    case 1:\r\n      return {\r\n        style: { backgroundColor: \"#b433ff\" },\r\n        value: \"Genetrating....\",\r\n      };\r\n    case 2:\r\n      return {\r\n        style: { backgroundColor: \"#30fcccf2\", color: \"black\" },\r\n        value: \"Success\",\r\n      };\r\n    default:\r\n      return {\r\n        style: {},\r\n        value: \"Genetrate\",\r\n      };\r\n  }\r\n}\r\n\r\nexport default function Home() {\r\n  const [result, setresult] = useState([]);\r\n  const [apistatus, setapistatus] = useState(0);\r\n  const [error, seterror] = useState({});\r\n  const [data, setdata] = useState({\r\n    timer: 600,\r\n    type: \"message\",\r\n  });\r\n\r\n  const apiCall = () => {\r\n    Axios.get(\"\")\r\n      .then(function (response) {\r\n        // handle success\r\n        setresult(response.data.reverse());\r\n      })\r\n      .catch(function (error) {\r\n        // handle error\r\n        console.log(error);\r\n      });\r\n  };\r\n  useEffect(() => {\r\n    apiCall();\r\n  }, []);\r\n\r\n  const handleChange = ({ target }) => {\r\n    const { name, value } = target;\r\n    setapistatus(0);\r\n    setdata({ ...data, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    if (data.message) {\r\n      setapistatus(1);\r\n      Axios.post(\"\", data)\r\n        .then(function (response) {\r\n          apiCall();\r\n          setapistatus(2);\r\n          setdata({ ...data, message: \"\" });\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error.response.data);\r\n          toast.error(error.message);\r\n        });\r\n    } else {\r\n      seterror({ message: \"No message provided\" });\r\n    }\r\n  };\r\n\r\n  const handleShare = (id) => {\r\n    const shareData = {\r\n      title: \"Bottled Message\",\r\n      text: \"Check this url\",\r\n      url: id,\r\n    };\r\n    try {\r\n      navigator.share(shareData);\r\n    } catch (err) {}\r\n  };\r\n\r\n  return (\r\n    <div className={Styles.container}>\r\n      <h1 className={Styles.heading}>\r\n        Write a bottled\r\n        <Select\r\n          onChange={handleChange}\r\n          name=\"type\"\r\n          options={OPTIONS.TYPES}\r\n          value={data.type}\r\n        />\r\n      </h1>\r\n      <form className={Styles.from} onSubmit={handleSubmit}>\r\n        <input\r\n          className={Styles.message}\r\n          type=\"text\"\r\n          name=\"message\"\r\n          placeholder=\"write your message\"\r\n          value={data.message}\r\n          onChange={handleChange}\r\n        />\r\n\r\n        <input\r\n          className={Styles.button}\r\n          type={\"submit\"}\r\n          {...buttonProps(apistatus)}\r\n        />\r\n      </form>\r\n      {error.message && (\r\n        <div className={Styles.error}>\r\n          <h2>ðŸ˜“ Oops!</h2>\r\n          <p>{error.message}</p>\r\n        </div>\r\n      )}\r\n      <div className={Styles.timer}>\r\n        <h3>Self-destruct Timer</h3>\r\n        <Select\r\n          onChange={handleChange}\r\n          name=\"timer\"\r\n          options={OPTIONS.TIMER}\r\n          value={data.timer}\r\n        />\r\n      </div>\r\n      <table className={Styles.table}>\r\n        <thead>\r\n          <tr>\r\n            <th>MESSAGE</th>\r\n            <th>URL</th>\r\n            <th>EXPIRY DATE</th>\r\n            <th></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {result.map((val) => (\r\n            <tr key={val.id}>\r\n              <td>{val.message}</td>\r\n              <td>\r\n                <Link to={val.id}>{`${window.location.href}${val.id}`}</Link>\r\n              </td>\r\n              <td>\r\n                <Moment>{val.expiry}</Moment>\r\n              </td>\r\n              <td>\r\n                <button onClick={() => handleShare(val.id)}>Share</button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}